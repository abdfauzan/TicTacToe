{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{api}from\"../utils/api\";import{Typography,Box,CircularProgress,Table}from\"@mui/material\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Leaderboard=()=>{const[leaderboard,setLeaderboard]=useState([]);const[filteredLeaderboard,setFilteredLeaderboard]=useState([]);const[loading,setLoading]=useState(true);const[searchLoading,setSearchLoading]=useState(false);const[search,setSearch]=useState(\"\");const debounceTimeout=useRef(null);// Fetch leaderboard data\nuseEffect(()=>{api.get(\"/leaderboard\").then(response=>{setLeaderboard(response.data);setFilteredLeaderboard(response.data);}).catch(error=>console.error(\"Failed to fetch leaderboard:\",error)).finally(()=>setLoading(false));},[]);// Custom debounce function\nconst debounce=(callback,delay)=>{return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}if(debounceTimeout.current){clearTimeout(debounceTimeout.current);}debounceTimeout.current=window.setTimeout(()=>{callback(...args);},delay);};};const handleSearch=value=>{setSearchLoading(true);const filtered=leaderboard.filter(entry=>entry.username.toLowerCase().includes(value.toLowerCase()));setFilteredLeaderboard(filtered);setSearchLoading(false);};const debouncedSearch=debounce(handleSearch,300);const onSearchChange=event=>{const value=event.target.value;setSearch(value);debouncedSearch(value);};const calculateWinRate=(wins,losses,draws)=>{const totalMatches=wins+losses+draws;return totalMatches>0?(wins/totalMatches*100).toFixed(2):\"0.00\";};const getWinRateColor=winRate=>{if(winRate>60)return\"green\";if(winRate>=40)return\"orange\";return\"red\";};if(loading){return/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"100vh\"},children:/*#__PURE__*/_jsx(CircularProgress,{})});}return/*#__PURE__*/_jsxs(Box,{sx:{p:4,maxWidth:700,mx:\"auto\",textAlign:\"center\",fontFamily:\"Poppins, sans-serif\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,sx:{fontFamily:\"Poppins, sans-serif\",mb:3,fontWeight:\"bold\"},children:\"Configuration\"}),/*#__PURE__*/_jsx(Table,{})]});};export default Leaderboard;","map":{"version":3,"names":["React","useState","useEffect","useRef","api","Typography","Box","CircularProgress","Table","jsx","_jsx","jsxs","_jsxs","Leaderboard","leaderboard","setLeaderboard","filteredLeaderboard","setFilteredLeaderboard","loading","setLoading","searchLoading","setSearchLoading","search","setSearch","debounceTimeout","get","then","response","data","catch","error","console","finally","debounce","callback","delay","_len","arguments","length","args","Array","_key","current","clearTimeout","window","setTimeout","handleSearch","value","filtered","filter","entry","username","toLowerCase","includes","debouncedSearch","onSearchChange","event","target","calculateWinRate","wins","losses","draws","totalMatches","toFixed","getWinRateColor","winRate","sx","display","justifyContent","alignItems","minHeight","children","p","maxWidth","mx","textAlign","fontFamily","variant","gutterBottom","mb","fontWeight"],"sources":["C:/Users/mfauz/Documents/TicTacToe/frontend/src/components/BoardSizeConfiguration.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { api } from \"../utils/api\";\nimport {\n  Typography,\n  Box,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemAvatar,\n  Avatar,\n  Paper,\n  CircularProgress,\n  TextField,\n  InputAdornment,\n  Table\n} from \"@mui/material\";\nimport {\n  ArrowUpward,\n  ArrowDownward,\n  Remove,\n  Search,\n} from \"@mui/icons-material\";\n\nexport interface BoardSizeConfiguration {\n  id?: any | null,\n  value: number,\n  label: string,\n  createdAt: string,\n  updatedAt: string,\n}\n\nconst Leaderboard: React.FC = () => {\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [filteredLeaderboard, setFilteredLeaderboard] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [search, setSearch] = useState(\"\");\n\n  const debounceTimeout = useRef<number | null>(null);\n\n  // Fetch leaderboard data\n  useEffect(() => {\n    api\n      .get(\"/leaderboard\")\n      .then((response) => {\n        setLeaderboard(response.data);\n        setFilteredLeaderboard(response.data);\n      })\n      .catch((error) => console.error(\"Failed to fetch leaderboard:\", error))\n      .finally(() => setLoading(false));\n  }, []);\n\n  // Custom debounce function\n  const debounce = (callback: Function, delay: number) => {\n    return (...args: any) => {\n      if (debounceTimeout.current) {\n        clearTimeout(debounceTimeout.current);\n      }\n      debounceTimeout.current = window.setTimeout(() => {\n        callback(...args);\n      }, delay);\n    };\n  };\n\n  const handleSearch = (value: string) => {\n    setSearchLoading(true);\n    const filtered = leaderboard.filter((entry: any) =>\n      entry.username.toLowerCase().includes(value.toLowerCase()),\n    );\n    setFilteredLeaderboard(filtered);\n    setSearchLoading(false);\n  };\n\n  const debouncedSearch = debounce(handleSearch, 300);\n\n  const onSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const value = event.target.value;\n    setSearch(value);\n    debouncedSearch(value);\n  };\n\n  const calculateWinRate = (wins: number, losses: number, draws: number) => {\n    const totalMatches = wins + losses + draws;\n    return totalMatches > 0 ? ((wins / totalMatches) * 100).toFixed(2) : \"0.00\";\n  };\n\n  const getWinRateColor = (winRate: number) => {\n    if (winRate > 60) return \"green\";\n    if (winRate >= 40) return \"orange\";\n    return \"red\";\n  };\n\n  if (loading) {\n    return (\n      <Box\n        sx={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          minHeight: \"100vh\",\n        }}\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Box\n      sx={{\n        p: 4,\n        maxWidth: 700,\n        mx: \"auto\",\n        textAlign: \"center\",\n        fontFamily: \"Poppins, sans-serif\",\n      }}\n    >\n      <Typography\n        variant=\"h4\"\n        gutterBottom\n        sx={{ fontFamily: \"Poppins, sans-serif\", mb: 3, fontWeight: \"bold\" }}\n      >\n        Configuration\n      </Typography>\n      <Table></Table>\n    </Box>\n  );\n};\n\nexport default Leaderboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}