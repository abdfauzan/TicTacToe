{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Configuration from\"../components/Configuration\";import{Box,Typography,Button}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const boardSizeConfigurations=[];const aiDifficultyConfigurations=[];const gameModeConfigurations=[];const timeLeftConfigurations=[];const Game=()=>{const[boardSize,setBoardSize]=useState(5);const[gameModeOptions,setGameModeOptions]=useState(gameModeConfigurations);const[aiDifficultyOptions,setAIDifficultyOptions]=useState(aiDifficultyConfigurations);const[gameMode,setGameMode]=useState(\"ai\");const[aiDifficulty,setAIDifficulty]=useState(\"hard\");const[boardSizeOptions,setBoardSizeOptions]=useState(boardSizeConfigurations);const[isTimerEnabled,setIsTimerEnabled]=useState(false);// const [timerDuration, setTimerDuration] = useState(30);\nconst[loading,setLoading]=useState(false);const[timeLeft,setTimeLeft]=useState(30);const[timeLeftOptions,setTimeLeftOptions]=useState(timeLeftConfigurations);const navigate=useNavigate();const gameBoard=()=>{// If game is over or board is empty, reset the board\nnavigate(\"/gameboard\",{state:{boardSize:boardSize,isAI:gameMode===\"ai\",aiDifficulty:aiDifficulty,isTimerEnabled:isTimerEnabled,timeLeft:timeLeft,gameMode:gameMode}});};// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst token=sessionStorage.getItem('token');// Retrieve token from storage\nuseEffect(()=>{const fetchData=async()=>{try{const response=await fetch('http://localhost:8080/tictactoe_game_service/client/configuration',{method:'GET',headers:{'Authorization':`Bearer ${token}`,// Include the authorization header\n'Content-Type':'application/json'}});console.log(\"Login successful:\",response.ok);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const json=await response.json();setBoardSizeOptions(json.boardSizeConfiguration);setAIDifficultyOptions(json.aiDifficulties);setGameModeOptions(json.gameMode);setTimeLeftOptions(json.timeLeft);}catch(error){console.error(\"Fetching error:\",error);// Handle the error appropriately, e.g., display an error message\n}};if(token){fetchData();}else{// Handle the case where there is no token, e.g., redirect to login\nconsole.warn('No token available, cannot fetch data.');}},[token]);// Effect runs when token changes\nreturn/*#__PURE__*/_jsxs(Box,{sx:{textAlign:\"center\",py:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,sx:{fontFamily:\"Poppins\",mb:2,fontWeight:\"bold\"},children:\"TicTacToe Game\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",borderBottom:\"1px solid #e0e0e0\",margin:\"0 auto 20px\"}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,sx:{fontFamily:\"Poppins\",mb:0},children:\"Configuration\"}),/*#__PURE__*/_jsx(Configuration,{boardSize:boardSize,setBoardSize:setBoardSize,gameMode:gameMode,setGameMode:setGameMode,aiDifficulty:aiDifficulty,setAIDifficulty:setAIDifficulty,boardSizeOptions:boardSizeOptions,setBoardSizeOptions:setBoardSizeOptions,isTimerEnabled:isTimerEnabled,setIsTimerEnabled:setIsTimerEnabled,timeLeft:timeLeft,setTimeLeft:setTimeLeft,gameModeOptions:gameModeOptions,setGameModeOptions:setGameModeOptions,aiDifficultyOptions:aiDifficultyOptions,setAIDifficultyOptions:setAIDifficultyOptions,timeLeftOptions:timeLeftOptions,setTimeLeftOptions:setTimeLeftOptions}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",borderBottom:\"1px solid #e0e0e0\",margin:\"0 auto 20px\"}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:gameBoard,sx:{margin:2,fontFamily:\"Poppins\"},children:\"Play Game\"})]});};export default Game;","map":{"version":3,"names":["React","useState","useEffect","Configuration","Box","Typography","Button","useNavigate","jsx","_jsx","jsxs","_jsxs","boardSizeConfigurations","aiDifficultyConfigurations","gameModeConfigurations","timeLeftConfigurations","Game","boardSize","setBoardSize","gameModeOptions","setGameModeOptions","aiDifficultyOptions","setAIDifficultyOptions","gameMode","setGameMode","aiDifficulty","setAIDifficulty","boardSizeOptions","setBoardSizeOptions","isTimerEnabled","setIsTimerEnabled","loading","setLoading","timeLeft","setTimeLeft","timeLeftOptions","setTimeLeftOptions","navigate","gameBoard","state","isAI","token","sessionStorage","getItem","fetchData","response","fetch","method","headers","console","log","ok","Error","status","json","boardSizeConfiguration","aiDifficulties","error","warn","sx","textAlign","py","children","variant","gutterBottom","fontFamily","mb","fontWeight","style","width","borderBottom","margin","color","onClick"],"sources":["C:/Users/mfauz/Documents/TicTacToe/frontend/src/pages/Game.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Board from \"../components/Board\";\nimport Configuration, { TimeLeft } from \"../components/Configuration\";\nimport { api } from \"../utils/api\";\nimport { Box, Typography, Button } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport {BoardSizeConfiguration,AIDifficulty,GameMode} from \"../components/Configuration\"\n\nconst boardSizeConfigurations: BoardSizeConfiguration[] = []\nconst aiDifficultyConfigurations: AIDifficulty[] = []\nconst gameModeConfigurations: GameMode[] = []\nconst timeLeftConfigurations: TimeLeft[] = []\n\nconst Game: React.FC = () => {\n  const [boardSize, setBoardSize] = useState(5);\n  const [gameModeOptions, setGameModeOptions] = useState<GameMode[]>(gameModeConfigurations);\n  const [aiDifficultyOptions, setAIDifficultyOptions] = useState<AIDifficulty[]>(aiDifficultyConfigurations);\n  const [gameMode, setGameMode] = useState<string>(\"ai\");\n  const [aiDifficulty, setAIDifficulty] = useState<string>(\"hard\");\n  const [boardSizeOptions, setBoardSizeOptions] = useState<BoardSizeConfiguration[]>(boardSizeConfigurations);\n  const [isTimerEnabled, setIsTimerEnabled] = useState(false);\n  // const [timerDuration, setTimerDuration] = useState(30);\n  const [loading, setLoading] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(30);\n  const [timeLeftOptions, setTimeLeftOptions] = useState<TimeLeft[]>(timeLeftConfigurations);\n  const navigate = useNavigate();\n\n  const gameBoard = () => {\n    // If game is over or board is empty, reset the board\n    navigate(\"/gameboard\",{state:{boardSize:boardSize, isAI: gameMode===\"ai\",\n      aiDifficulty:aiDifficulty,isTimerEnabled:isTimerEnabled,timeLeft:timeLeft,\n      gameMode:gameMode\n    }});\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  \n  const token = sessionStorage.getItem('token'); // Retrieve token from storage\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:8080/tictactoe_game_service/client/configuration', {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`, // Include the authorization header\n            'Content-Type': 'application/json'\n          },\n        });\n\n        console.log(\"Login successful:\", response.ok);\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const json = await response.json();\n        setBoardSizeOptions(json.boardSizeConfiguration);\n        setAIDifficultyOptions(json.aiDifficulties);\n        setGameModeOptions(json.gameMode);\n        setTimeLeftOptions(json.timeLeft);\n      } catch (error) {\n        console.error(\"Fetching error:\", error);\n        // Handle the error appropriately, e.g., display an error message\n      }\n    };\n\n    if (token) {\n      fetchData();\n    } else {\n      // Handle the case where there is no token, e.g., redirect to login\n      console.warn('No token available, cannot fetch data.');\n    }\n  }, [token]); // Effect runs when token changes\n  \n\n  return (\n    <Box sx={{ textAlign: \"center\", py: 5 }}>\n      <Typography\n        variant=\"h4\"\n        gutterBottom\n        sx={{ fontFamily: \"Poppins\", mb: 2, fontWeight: \"bold\" }}\n      >\n        TicTacToe Game\n      </Typography>\n      {/* Divider */}\n      <div\n        style={{\n          width: \"100%\",\n          borderBottom: \"1px solid #e0e0e0\",\n          margin: \"0 auto 20px\",\n        }}\n      />\n      <Typography\n        variant=\"h6\"\n        gutterBottom\n        sx={{ fontFamily: \"Poppins\", mb: 0 }}\n      >\n        Configuration\n      </Typography>\n      <Configuration\n        boardSize={boardSize}\n        setBoardSize={setBoardSize}\n        gameMode={gameMode}\n        setGameMode={setGameMode}\n        aiDifficulty={aiDifficulty}\n        setAIDifficulty={setAIDifficulty}\n        boardSizeOptions={boardSizeOptions}\n        setBoardSizeOptions={setBoardSizeOptions}\n        isTimerEnabled={isTimerEnabled}\n        setIsTimerEnabled={setIsTimerEnabled}\n        timeLeft={timeLeft}\n        setTimeLeft={setTimeLeft}\n        gameModeOptions={gameModeOptions}\n        setGameModeOptions={setGameModeOptions}\n        aiDifficultyOptions={aiDifficultyOptions}\n        setAIDifficultyOptions={setAIDifficultyOptions}\n        timeLeftOptions={timeLeftOptions}\n        setTimeLeftOptions={setTimeLeftOptions}\n      />\n      {/* Divider */}\n      <div\n        style={{\n          width: \"100%\",\n          borderBottom: \"1px solid #e0e0e0\",\n          margin: \"0 auto 20px\",\n        }}\n      />\n          <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={gameBoard}\n                  sx={{ margin: 2, fontFamily: \"Poppins\" }}\n                >\n                  Play Game\n                </Button>\n\n      {/* <Board\n        boardSize={boardSize}\n        isAI={gameMode === \"ai\"}\n        aiDifficulty={aiDifficulty}\n        isTimerEnabled={isTimerEnabled}\n        timerDuration={timerDuration}\n        gameMode={gameMode}\n      /> */}\n    </Box>\n  );\n};\n\nexport default Game;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}